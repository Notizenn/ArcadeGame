<div class="maze-wrapper" [ngClass]="difficulty">
    <h1 class="maze-title">Labyrinthe nÃ©on</h1>
    <p class="maze-subtitle">
        Atteins la sortie en Ã©vitant les murs.<br />
        Utilise les flÃ¨ches du clavier ou les boutons.
    </p>

    <!-- Choix de difficultÃ© -->
    <div class="difficulty">
        <button class="diff-btn" [class.active]="difficulty === 'easy'" (click)="applyDifficulty('easy')">
            Facile
        </button>
        <button class="diff-btn" [class.active]="difficulty === 'medium'" (click)="applyDifficulty('medium')">
            Moyen
        </button>
        <button class="diff-btn" [class.active]="difficulty === 'hard'" (click)="applyDifficulty('hard')">
            Difficile
        </button>
    </div>

    <div class="maze-info">
        <div class="stat">DÃ©placements : <span>{{ moves }}</span></div>
        <button class="btn" (click)="reset()">ğŸ” Reset</button>
    </div>

    <p *ngIf="!win" class="maze-hint">
        ğŸŸ¡ Tu es le pion jaune, la sortie est en rose.
    </p>
    <p *ngIf="win" class="maze-win">
        ğŸ‰ Bravo ! Tu as trouvÃ© la sortie en {{ moves }} dÃ©placements.
    </p>

    <div class="maze-grid">
        <div class="maze-row" *ngFor="let row of maze; let r = index">
            <div class="maze-cell" *ngFor="let cell of row; let c = index" [ngClass]="{
             wall: cell === '#',
             start: cell === 'S',
             exit: cell === 'E',
             player: isPlayer(r, c)
           }">
                <span *ngIf="isPlayer(r, c)">ğŸŸ¡</span>
                <span *ngIf="!isPlayer(r, c) && cell === 'E'">ğŸšª</span>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="ctrl-btn" (click)="move(-1, 0)">â¬†</button>
        <div class="controls-middle">
            <button class="ctrl-btn" (click)="move(0, -1)">â¬…</button>
            <button class="ctrl-btn" (click)="move(0, 1)">â¡</button>
        </div>
        <button class="ctrl-btn" (click)="move(1, 0)">â¬‡</button>
    </div>
</div>